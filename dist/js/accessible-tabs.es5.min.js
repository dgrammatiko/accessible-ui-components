var tabs=function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e,r){return(o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&c(i,r.prototype),i}).apply(null,arguments)}function s(t){var e="function"==typeof Map?new Map:void 0;return(s=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return o(t,arguments,a(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,t)})(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?u(t):e}var h=function(t){function r(){return e(this,r),l(this,a(r).apply(this,arguments))}return i(r,t),r}(s(HTMLElement)),f=function(t){function r(){var t;e(this,r),(t=l(this,a(r).call(this))).hasActive=!1,t.currentActive="",t.hasNested=!1,t.isNested=!1,t.ulElement="",t.tabs=[],t.tabsLinks=[],t.panels=[],t.tabLinkHash=[];return new MutationObserver((function(e){return e.forEach((function(e){return t.handleMutations(e)}))})).observe(u(t),{childList:!0}),t}return i(r,t),n(r,[{key:"attributeChangedCallback",value:function(t,e,r){switch(t){case"recall":case"orientation":this.render()}}},{key:"recall",get:function(){return this.getAttribute("recall")},set:function(t){this.setAttribute("recall",t)}}],[{key:"observedAttributes",get:function(){return["recall","orientation"]}}]),n(r,[{key:"connectedCallback",value:function(){this.render()}},{key:"disconnectedCallback",value:function(){var t=this;this.ulElement&&(Array.from(this.ulElement.querySelectorAll("a")).forEach((function(e){e.removeEventListener("click",t.activateTabFromLink)})),this.ulElement.removeEventListener("keydown",this.keyBehaviour))}},{key:"render",value:function(){"UL"===this.firstElementChild.nodeName&&this.removeChild(this.firstElementChild),this.buildNavigation()}},{key:"handleMutations",value:function(t){var e=this;t instanceof MutationRecord&&(Array.from(t.addedNodes).forEach((function(t){t instanceof h&&e.render()})),Array.from(t.removedNodes).forEach((function(t){t instanceof h&&e.render()})))}},{key:"buildNavigation",value:function(){var t=this;if(this.tabElements=Array.from(this.children),console.log(this.tabElements),this.tabElements.length){var e=function(e){e.preventDefault(),t.hasActive&&t.hideCurrent();var r=t.currentActive;t.dispatchCustomEvent("joomla.tab.show",e.target,t.querySelector("#".concat(r.replace("tab-","")))),e.target.setAttribute("active",""),e.target.setAttribute("aria-selected","true"),e.target.setAttribute("tabindex","0"),t.querySelector("#".concat(e.target.id)).setAttribute("active",""),t.querySelector("#".concat(e.target.id)).removeAttribute("aria-hidden"),t.currentActive=e.target.id,t.dispatchCustomEvent("joomla.tab.shown",e.target,t.querySelector("#".concat(r.replace("tab-","")))),t.saveState("#tab-".concat(e.target.id))};"UL"===this.firstElementChild.nodeName&&this.removeChild(this.firstElementChild),this.ulElement=document.createElement("ul"),this.ulElement.setAttribute("role","tablist"),this.tabElements.forEach((function(r){if(r.parentNode===t){var n=r.hasAttribute("active")||!1,i=r.getAttribute("name");if(r.id&&i){var a=document.createElement("li");a.setAttribute("role","presentation");var c=document.createElement("a");c.setAttribute("role","tab"),c.setAttribute("aria-selected",n?"true":"false"),c.setAttribute("aria-controls",r.id),c.setAttribute("tabindex",n?"0":"-1"),c.setAttribute("href","#".concat(r.id)),c.setAttribute("id","tab-".concat(r.id)),c.textContent=r.getAttribute("name"),n&&(t.hasActive=!0,t.currentActive=r.id);var o=r.getAttribute("link-class");o&&c.setAttribute("class",o),c.addEventListener("click",e),a.appendChild(c),t.ulElement.appendChild(a)}}})),this.insertAdjacentElement("afterbegin",this.ulElement)}}},{key:"hideCurrent",value:function(){if(this.currentActive){var t=this.querySelector('a[aria-controls="'.concat(this.currentActive,'"]'));this.dispatchCustomEvent("accessible.tabs.hide",t,this.querySelector("#".concat(this.currentActive))),t.removeAttribute("active"),t.setAttribute("tabindex","-1"),this.querySelector("#".concat(this.currentActive)).removeAttribute("active"),this.querySelector("#".concat(this.currentActive)).setAttribute("aria-hidden","true"),t.removeAttribute("aria-selected"),this.dispatchCustomEvent("accessible.tabs.hidden",t,this.querySelector("#".concat(this.currentActive)))}}},{key:"activateTabFromLink",value:function(t){t.preventDefault();var e=this.currentActive;this.hasActive&&this.hideCurrent(),this.dispatchCustomEvent("accessible.tabs.show",t.target,this.querySelector("#tab-".concat(e))),t.target.setAttribute("active",""),t.target.setAttribute("aria-selected","true"),t.target.setAttribute("tabindex","0"),this.querySelector(t.target.hash).setAttribute("active",""),this.querySelector(t.target.hash).removeAttribute("aria-hidden"),this.currentActive=t.target.hash.substring(1),this.dispatchCustomEvent("accessible.tabs.shown",t.target,this.querySelector("#tab-".concat(e))),this.saveState("#tab-".concat(t.target.hash.substring(1)))}},{key:"showTab",value:function(t){document.querySelector("#tab-".concat(t.id)).click()}},{key:"show",value:function(t){t.click()}},{key:"keyBehaviour",value:function(t){var e=this.querySelector("#tab-".concat(this.currentActive)),r=e.parentNode.previousElementSibling||e.parentNode.parentNode.lastElementChild,n=e.parentNode.nextElementSibling||e.parentNode.parentNode.firstElementChild;if(!t.metaKey&&!t.altKey&&-1!==this.tabs.indexOf("#".concat(document.activeElement.id)))switch(t.keyCode){case 37:case 38:t.preventDefault(),t.stopPropagation(),r.querySelector("a").focus(),r.querySelector("a").click();break;case 39:case 40:t.preventDefault(),t.stopPropagation(),n.querySelector("a").focus(),n.querySelector("a").click()}}},{key:"findAncestorByTagNme",value:function(t,e){for(;(t=t.parentElement)&&t.nodeName.toLowerCase()!==e;);return t}},{key:"dispatchCustomEvent",value:function(t,e,r){var n=new CustomEvent(t,{bubbles:!0,cancelable:!0});r&&(n.relatedTarget=r),e.dispatchEvent(n,{once:!0})}}]),r}(s(HTMLElement));return customElements.define("accessible-tab",h),customElements.define("accessible-tabs",f),t.AccessibleTab=h,t.AccessibleTabs=f,t}({});
